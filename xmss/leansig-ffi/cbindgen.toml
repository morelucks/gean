# cbindgen configuration for leansig-ffi
# Generates include/leansig_ffi.h from src/lib.rs

language = "C"
cpp_compat = true

# Header guard and preamble
header = """/*
 * leansig_ffi.h - Auto-generated C header for the leansig FFI library.
 *
 * DO NOT EDIT MANUALLY. This file is generated by cbindgen from src/lib.rs.
 * Run `cargo build` to regenerate.
 *
 * This header provides a C-compatible interface to the leansig XMSS
 * post-quantum signature scheme (devnet-1 instantiation).
 *
 * Memory management: Every allocated object has a corresponding _free function.
 * Byte buffers returned by serialize/sign must be freed with
 * leansig_bytes_free.
 */"""
include_guard = "LEANSIG_FFI_H"
sys_includes = ["stddef.h", "stdint.h"]

# After includes, emit the message length constant
after_includes = """
/* Message length expected by sign/verify (XMSS signs 32-byte messages). */
#define LEANSIG_MESSAGE_LENGTH 32"""

# Documentation
documentation = true
documentation_style = "c99"
documentation_length = "full"

# Style
style = "Both"
usize_is_size_t = true

[export]
include = ["LeansigResult"]

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = true
